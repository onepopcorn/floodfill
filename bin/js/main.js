!function(){"use strict";function e(e){var t=u(e.currentTarget.id);p[t[0]][t[1]].toggleWall()}function t(e){e.preventDefault();var t=u(e.currentTarget.id);p[t[0]][t[1]].toggleStart()}function n(){s.style.width=30*f+"px";for(var e=0;d>e;e++){p.push([]);for(var t=0;f>t;t++){var n=new A(e*d+t);s.appendChild(n.el),p[e].push(n)}}document.querySelector("#startBtn").addEventListener("click",r),document.querySelector("#resetBtn").addEventListener("click",c)}function r(){var e=document.querySelector(".start");if(null!==e){var t=u(e.id),n=p[t[0]][t[1]];n.type=v,o(t[0],t[1]),a()}}function o(e,t){var n=p[e][t];n.type=g,m.push(n),i(e,t)}function i(e,t){for(var n in q){var r=q[n];if(l(e+r.row,t+r.col)){var i=p[e+r.row][t+r.col];i.type===v&&i.type!==g&&o(e+r.row,t+r.col)}}}function a(){w=requestAnimationFrame(a);var e=m[0];e.setType(g),m.shift(),0===m.length&&cancelAnimationFrame(w)}function c(){for(var e=0;d>e;e++)for(var t=0;f>t;t++){var n=p[e][t];n.setType(v)}}function l(e,t){return e>=0&&d>e&&t>=0&&f>t}function u(e){var t=Math.floor(e/f),n=e-t*d;return[t,n]}var s=document.querySelector("#gameboard"),m=[],w=null,d=10,f=10,p=[],v=0,h=1,y=2,g=3,q=[{row:-1,col:-1},{row:-1,col:0},{row:-1,col:1},{row:0,col:1},{row:1,col:1},{row:1,col:0},{row:1,col:-1},{row:0,col:-1}],A=function(n){this.type=v,this.el=document.createElement("div"),this.el.className="tile",this.el.id=n,this.el.addEventListener("click",e),this.el.addEventListener("contextmenu",t)};A.prototype.setType=function(e){var t;switch(e){case h:t="tile wall";break;case g:t="tile processed";break;case y:t="tile start";break;default:t="tile"}this.el.className=t,this.type=e},A.prototype.toggleWall=function(){this.setType(this.type!==h?h:v)},A.prototype.toggleStart=function(){if(this.type!==y){var e=document.querySelector(".start");if(e){var t=u(e.id);p[t[0]][t[1]].setType(v)}this.setType(y)}},n()}(),function(){for(var e=0,t=["webkit","moz"],n=0;n<t.length&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[t[n]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[n]+"CancelAnimationFrame"]||window[t[n]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(t){var n=(new Date).getTime(),r=Math.max(0,16-(n-e)),o=window.setTimeout(function(){t(n+r)},r);return e=n+r,o}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)})}();
//# sourceMappingURL=main.js.map